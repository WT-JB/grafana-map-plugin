{"version":3,"sources":["../src/utils.js"],"names":["showPollutants","providedPollutants","allPollutants","id","aqi","measuresTable","document","querySelector","rows","deleteRow","el","getElementById","firstChild","removeChild","defaultPollutantOption","createElement","html","innerHTML","appendChild","pollutantsToShow","key","forEach","_value","value","pollutant","row","insertRow","innerCell0","name","innerCell1","unit","cell0","insertCell","cell1","newPollutant","toUpperCase","mapDivHeight","getElementsByClassName","offsetHeight","mapDivWidth","offsetWidth","style","display","showHealthConcerns","risk","color","meaning","healthConcernsWrapper","healthConcerns","healthConcernsColor","healthRisk","backgroundColor","calculateAQI","AQI","aqiIndex","range","index","HIGHCHARTS_THEME_DARK","colors","chart","linearGradient","x1","y1","x2","y2","stops","fontFamily","plotBorderColor","title","fontSize","subtitle","textTransform","xAxis","gridLineColor","labels","lineColor","minorGridLineColor","tickColor","yAxis","tickWidth","tooltip","plotOptions","series","dataLabels","marker","boxplot","fillColor","candlestick","errorbar","legend","itemStyle","itemHoverStyle","itemHiddenStyle","credits","drilldown","activeAxisLabelStyle","activeDataLabelStyle","navigation","buttonOptions","symbolStroke","theme","fill","rangeSelector","buttonTheme","stroke","states","hover","select","inputBoxBorderColor","inputStyle","labelStyle","navigator","handles","borderColor","outlineColor","maskFill","scrollbar","barBackgroundColor","barBorderColor","buttonArrowColor","buttonBackgroundColor","buttonBorderColor","rifleColor","trackBackgroundColor","trackBorderColor","legendBackgroundColor","background2","dataLabelsColor","textColor","contrastTextColor","maskColor"],"mappings":"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","file":"utils.js","sourcesContent":["const HIGHCHARTS_THEME_DARK = {\n  colors: ['#2b908f', '#90ee7e', '#f45b5b', '#7798BF', '#aaeeee', '#ff0066', '#eeaaee', '#55BF3B', '#DF5353', '#7798BF', '#aaeeee'],\n  chart: {\n      backgroundColor: {\n        linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },\n        stops: [\n            [0, '#2a2a2b'],\n            [1, '#3e3e40']\n        ]\n      },\n      style: {\n        fontFamily: '\\'Unica One\\', sans-serif'\n      },\n      plotBorderColor: '#606063'\n  },\n  title: {\n      style: {\n        color: '#E0E0E3',\n        // textTransform: 'uppercase',\n        fontSize: '20px'\n      }\n  },\n  subtitle: {\n      style: {\n        color: '#E0E0E3',\n        textTransform: 'uppercase'\n      }\n  },\n  xAxis: {\n      gridLineColor: '#707073',\n      labels: {\n        style: {\n            color: '#E0E0E3'\n        }\n      },\n      lineColor: '#707073',\n      minorGridLineColor: '#505053',\n      tickColor: '#707073',\n      title: {\n        style: {\n            color: '#A0A0A3'\n\n        }\n      }\n  },\n  yAxis: {\n      gridLineColor: '#707073',\n      labels: {\n        style: {\n            color: '#E0E0E3'\n        }\n      },\n      lineColor: '#707073',\n      minorGridLineColor: '#505053',\n      tickColor: '#707073',\n      tickWidth: 1,\n      title: {\n        style: {\n            color: '#A0A0A3'\n        }\n      }\n  },\n  tooltip: {\n      backgroundColor: 'rgba(0, 0, 0, 0.85)',\n      style: {\n        color: '#F0F0F0'\n      }\n  },\n  plotOptions: {\n      series: {\n        dataLabels: {\n            color: '#B0B0B3'\n        },\n        marker: {\n            lineColor: '#333'\n        }\n      },\n      boxplot: {\n        fillColor: '#505053'\n      },\n      candlestick: {\n        lineColor: 'white'\n      },\n      errorbar: {\n        color: 'white'\n      }\n  },\n  legend: {\n      itemStyle: {\n        color: '#E0E0E3'\n      },\n      itemHoverStyle: {\n        color: '#FFF'\n      },\n      itemHiddenStyle: {\n        color: '#606063'\n      }\n  },\n  credits: {\n      style: {\n        color: '#666'\n      }\n  },\n  labels: {\n      style: {\n        color: '#707073'\n      }\n  },\n\n  drilldown: {\n      activeAxisLabelStyle: {\n        color: '#F0F0F3'\n      },\n      activeDataLabelStyle: {\n        color: '#F0F0F3'\n      }\n  },\n\n  navigation: {\n      buttonOptions: {\n        symbolStroke: '#DDDDDD',\n        theme: {\n            fill: '#505053'\n        }\n      }\n  },\n\n  // scroll charts\n  rangeSelector: {\n      buttonTheme: {\n        fill: '#505053',\n        stroke: '#000000',\n        style: {\n            color: '#CCC'\n        },\n        states: {\n            hover: {\n              fill: '#707073',\n              stroke: '#000000',\n              style: {\n                  color: 'white'\n              }\n            },\n            select: {\n              fill: '#000003',\n              stroke: '#000000',\n              style: {\n                  color: 'white'\n              }\n            }\n        }\n      },\n      inputBoxBorderColor: '#505053',\n      inputStyle: {\n        backgroundColor: '#333',\n        color: 'silver'\n      },\n      labelStyle: {\n        color: 'silver'\n      }\n  },\n\n  navigator: {\n      handles: {\n        backgroundColor: '#666',\n        borderColor: '#AAA'\n      },\n      outlineColor: '#CCC',\n      maskFill: 'rgba(255,255,255,0.1)',\n      series: {\n        color: '#7798BF',\n        lineColor: '#A6C7ED'\n      },\n      xAxis: {\n        gridLineColor: '#505053'\n      }\n  },\n\n  scrollbar: {\n      barBackgroundColor: '#808083',\n      barBorderColor: '#808083',\n      buttonArrowColor: '#CCC',\n      buttonBackgroundColor: '#606063',\n      buttonBorderColor: '#606063',\n      rifleColor: '#FFF',\n      trackBackgroundColor: '#404043',\n      trackBorderColor: '#404043'\n  },\n\n  // special colors for some of the\n  legendBackgroundColor: 'rgba(0, 0, 0, 0.5)',\n  background2: '#505053',\n  dataLabelsColor: '#B0B0B3',\n  textColor: '#C0C0C0',\n  contrastTextColor: '#F0F0F3',\n  maskColor: 'rgba(255,255,255,0.3)'\n};\n\n\nfunction showPollutants(providedPollutants, allPollutants, id, aqi) {\n\n  const measuresTable = document.querySelector('#measures_table > table > tbody');\n\n  while (measuresTable.rows[0]) measuresTable.deleteRow(0);\n\n  // Remove air paramters from dropdown\n  var el = document.getElementById('airParametersDropdown');\n  while ( el.firstChild ) {\n    el.removeChild( el.firstChild )\n  }\n\n  // ---\n\n  // Add default pollutant option to dropdown\n  const defaultPollutantOption = document.createElement('option');\n  const html = '<option value=\"0\" selected=\"selected\">Air Parameter</option>';\n\n  defaultPollutantOption.innerHTML = html;\n  document.getElementById('airParametersDropdown').appendChild(defaultPollutantOption);\n\n  // -----\n\n\n  const pollutantsToShow = {};\n  for (const key in allPollutants) {\n    \n    allPollutants[key].forEach((_value) => {\n      if (_value.id === id) {\n        if (_value.value) {\n          if (!(pollutantsToShow[key])){\n            pollutantsToShow[key] = 0;\n          }\n          pollutantsToShow[key] = _value.value;\n        }\n      }\n    });\n  }\n\n  pollutantsToShow['aqi'] = aqi;\n\n  for (const pollutant in pollutantsToShow){\n    const row = measuresTable.insertRow(0);\n/*    row.className = 'measure';*/\n\n    const innerCell0 = providedPollutants[pollutant].name;\n    const innerCell1 = pollutantsToShow[pollutant] + ' ' + providedPollutants[pollutant].unit;\n\n    const cell0 = row.insertCell(0);\n    const cell1 = row.insertCell(1);\n\n\n    cell0.innerHTML = innerCell0;\n    cell1.innerHTML = innerCell1;\n/*    cell0.className = 'cell';\n    cell1.className = 'cell';*/\n\n    // Add Pollutants to Chart Dropdown\n    const newPollutant = document.createElement('option');\n\n    newPollutant.id = 'pollutantOption';\n    newPollutant.value = pollutant.toUpperCase();\n\n    newPollutant.innerHTML = providedPollutants[pollutant].name;\n\n    document.getElementById('airParametersDropdown').appendChild(newPollutant);\n\n    // ----\n  }\n\n  const mapDivHeight = document.getElementsByClassName('map-container')[0].offsetHeight;\n  const mapDivWidth = document.getElementsByClassName('map-container')[0].offsetWidth;\n\n  // Only show the map secundary data (tables) when the map div is not too small\n  if (mapDivHeight >= 405 && mapDivWidth >= 860) {\n    document.getElementById('environment_table').style.display = 'block';\n    document.getElementById('measures_table').style.display = 'block';\n  }\n}\n\nfunction showHealthConcerns(providedPollutants, risk, color, meaning) {\n  const healthConcernsWrapper = document.getElementById('health_concerns_wrapper');\n  const healthConcerns = document.querySelector('#health_concerns_wrapper>div');\n  const healthConcernsColor = document.querySelector('#health_concerns_wrapper>div>span>span.color');\n  const healthRisk = document.getElementById('health_risk');\n\n  const mapDivHeight = document.getElementsByClassName('map-container')[0].offsetHeight;\n  const mapDivWidth = document.getElementsByClassName('map-container')[0].offsetWidth;\n\n  // Only show the map secundary data (tables) when the map div is not too small\n  if (mapDivHeight >= 405 && mapDivWidth >= 860) {\n    healthConcernsWrapper.style.display = 'block';\n    healthConcernsColor.style.backgroundColor = color;\n    healthRisk.innerHTML = risk;\n  }\n}\n\n\nfunction calculateAQI(AQI, aqi) {\n  let aqiIndex;\n  AQI.range.forEach((value, index) => {\n    if (aqi >= value) {\n      aqiIndex = index;\n    }\n  });\n  return aqiIndex;\n}\n\n\nexport {\n  showPollutants, showHealthConcerns, calculateAQI, HIGHCHARTS_THEME_DARK\n}"]}