{"version":3,"sources":["../src/utils.js"],"names":["showPollutants","providedPollutants","allPollutants","id","aqi","measuresTable","document","getElementById","rows","deleteRow","el","firstChild","removeChild","defaultPollutantOption","createElement","html","innerHTML","appendChild","pollutantsToShow","key","forEach","_value","value","pollutant","row","insertRow","className","innerCell0","name","innerCell1","unit","cell0","insertCell","cell1","newPollutant","toUpperCase","mapDivHeight","getElementsByClassName","offsetHeight","mapDivWidth","offsetWidth","style","display","showHealthConcerns","risk","color","meaning","healthConcernsWrapper","healthConcerns","healthRisk","backgroundColor","calculateAQI","AQI","aqiIndex","range","index","HIGHCHARTS_THEME_DARK","colors","chart","linearGradient","x1","y1","x2","y2","stops","fontFamily","plotBorderColor","title","fontSize","subtitle","textTransform","xAxis","gridLineColor","labels","lineColor","minorGridLineColor","tickColor","yAxis","tickWidth","tooltip","plotOptions","series","dataLabels","marker","boxplot","fillColor","candlestick","errorbar","legend","itemStyle","itemHoverStyle","itemHiddenStyle","credits","drilldown","activeAxisLabelStyle","activeDataLabelStyle","navigation","buttonOptions","symbolStroke","theme","fill","rangeSelector","buttonTheme","stroke","states","hover","select","inputBoxBorderColor","inputStyle","labelStyle","navigator","handles","borderColor","outlineColor","maskFill","scrollbar","barBackgroundColor","barBorderColor","buttonArrowColor","buttonBackgroundColor","buttonBorderColor","rifleColor","trackBackgroundColor","trackBorderColor","legendBackgroundColor","background2","dataLabelsColor","textColor","contrastTextColor","maskColor"],"mappings":";;;;;;;;AAuMA,WAASA,cAAT,CAAwBC,kBAAxB,EAA4CC,aAA5C,EAA2DC,EAA3D,EAA+DC,GAA/D,EAAoE;;AAElE,QAAMC,gBAAgBC,SAASC,cAAT,CAAwB,gBAAxB,CAAtB;;AAEA,WAAOF,cAAcG,IAAd,CAAmB,CAAnB,CAAP;AAA8BH,oBAAcI,SAAd,CAAwB,CAAxB;AAA9B,KAJkE,CAMlE;AACA,QAAIC,KAAKJ,SAASC,cAAT,CAAwB,uBAAxB,CAAT;AACA,WAAQG,GAAGC,UAAX,EAAwB;AACtBD,SAAGE,WAAH,CAAgBF,GAAGC,UAAnB;AACD;;AAED;;AAEA;AACA,QAAME,yBAAyBP,SAASQ,aAAT,CAAuB,QAAvB,CAA/B;AACA,QAAMC,OAAO,8DAAb;;AAEAF,2BAAuBG,SAAvB,GAAmCD,IAAnC;AACAT,aAASC,cAAT,CAAwB,uBAAxB,EAAiDU,WAAjD,CAA6DJ,sBAA7D;;AAEA;;;AAGA,QAAMK,mBAAmB,EAAzB;;AAxBkE,+BAyBvDC,GAzBuD;;AA2BhEjB,oBAAciB,GAAd,EAAmBC,OAAnB,CAA2B,UAACC,MAAD,EAAY;AACrC,YAAIA,OAAOlB,EAAP,KAAcA,EAAlB,EAAsB;AACpB,cAAIkB,OAAOC,KAAX,EAAkB;AAChB,gBAAI,CAAEJ,iBAAiBC,GAAjB,CAAN,EAA6B;AAC3BD,+BAAiBC,GAAjB,IAAwB,CAAxB;AACD;AACDD,6BAAiBC,GAAjB,IAAwBE,OAAOC,KAA/B;AACD;AACF;AACF,OATD;AA3BgE;;AAyBlE,SAAK,IAAMH,GAAX,IAAkBjB,aAAlB,EAAiC;AAAA,YAAtBiB,GAAsB;AAYhC;;AAEDD,qBAAiB,KAAjB,IAA0Bd,GAA1B;;AAEA,SAAK,IAAMmB,SAAX,IAAwBL,gBAAxB,EAAyC;AACvC,UAAMM,MAAMnB,cAAcoB,SAAd,CAAwB,CAAxB,CAAZ;AACAD,UAAIE,SAAJ,GAAgB,SAAhB;;AAEA,UAAMC,aAAa1B,mBAAmBsB,SAAnB,EAA8BK,IAAjD;AACA,UAAMC,aAAaX,iBAAiBK,SAAjB,IAA8B,GAA9B,GAAoCtB,mBAAmBsB,SAAnB,EAA8BO,IAArF;;AAEA,UAAMC,QAAQP,IAAIQ,UAAJ,CAAe,CAAf,CAAd;AACA,UAAMC,QAAQT,IAAIQ,UAAJ,CAAe,CAAf,CAAd;;AAGAD,YAAMf,SAAN,GAAkBW,UAAlB;AACAM,YAAMjB,SAAN,GAAkBa,UAAlB;AACAE,YAAML,SAAN,GAAkB,MAAlB;AACAO,YAAMP,SAAN,GAAkB,MAAlB;;AAEA;AACA,UAAMQ,eAAe5B,SAASQ,aAAT,CAAuB,QAAvB,CAArB;;AAEAoB,mBAAa/B,EAAb,GAAkB,iBAAlB;AACA+B,mBAAaZ,KAAb,GAAqBC,UAAUY,WAAV,EAArB;;AAEAD,mBAAalB,SAAb,GAAyBf,mBAAmBsB,SAAnB,EAA8BK,IAAvD;;AAEAtB,eAASC,cAAT,CAAwB,uBAAxB,EAAiDU,WAAjD,CAA6DiB,YAA7D;;AAEA;AACD;;AAED,QAAME,eAAe9B,SAAS+B,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,EAAmDC,YAAxE;AACA,QAAMC,cAAcjC,SAAS+B,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,EAAmDG,WAAvE;;AAEA;AACA,QAAIJ,gBAAgB,GAAhB,IAAuBG,eAAe,GAA1C,EAA+C;AAC7CjC,eAASC,cAAT,CAAwB,kBAAxB,EAA4CkC,KAA5C,CAAkDC,OAAlD,GAA4D,OAA5D;AACApC,eAASC,cAAT,CAAwB,eAAxB,EAAyCkC,KAAzC,CAA+CC,OAA/C,GAAyD,OAAzD;AACD;AACF;;AAED,WAASC,kBAAT,CAA4B1C,kBAA5B,EAAgD2C,IAAhD,EAAsDC,KAAtD,EAA6DC,OAA7D,EAAsE;AACpE,QAAMC,wBAAwBzC,SAASC,cAAT,CAAwB,uBAAxB,CAA9B;AACA,QAAMyC,iBAAiB1C,SAASC,cAAT,CAAwB,gBAAxB,CAAvB;AACA,QAAM0C,aAAa3C,SAASC,cAAT,CAAwB,YAAxB,CAAnB;;AAEA,QAAM6B,eAAe9B,SAAS+B,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,EAAmDC,YAAxE;AACA,QAAMC,cAAcjC,SAAS+B,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,EAAmDG,WAAvE;;AAEA;AACA,QAAIJ,gBAAgB,GAAhB,IAAuBG,eAAe,GAA1C,EAA+C;AAC7CQ,4BAAsBN,KAAtB,CAA4BC,OAA5B,GAAsC,OAAtC;AACAM,qBAAeP,KAAf,CAAqBS,eAArB,GAAuCL,KAAvC;AACAI,iBAAWjC,SAAX,GAAuB4B,IAAvB;AACD;AACF;;AAGD,WAASO,YAAT,CAAsBC,GAAtB,EAA2BhD,GAA3B,EAAgC;AAC9B,QAAIiD,iBAAJ;AACAD,QAAIE,KAAJ,CAAUlC,OAAV,CAAkB,UAACE,KAAD,EAAQiC,KAAR,EAAkB;AAClC,UAAInD,OAAOkB,KAAX,EAAkB;AAChB+B,mBAAWE,KAAX;AACD;AACF,KAJD;AAKA,WAAOF,QAAP;AACD;;;;;uCAhTKG,qB,GAAwB;AAC5BC,gBAAQ,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,EAAoG,SAApG,EAA+G,SAA/G,CADoB;AAE5BC,eAAO;AACHR,2BAAiB;AACfS,4BAAgB,EAAEC,IAAI,CAAN,EAASC,IAAI,CAAb,EAAgBC,IAAI,CAApB,EAAuBC,IAAI,CAA3B,EADD;AAEfC,mBAAO,CACH,CAAC,CAAD,EAAI,SAAJ,CADG,EAEH,CAAC,CAAD,EAAI,SAAJ,CAFG;AAFQ,WADd;AAQHvB,iBAAO;AACLwB,wBAAY;AADP,WARJ;AAWHC,2BAAiB;AAXd,SAFqB;AAe5BC,eAAO;AACH1B,iBAAO;AACLI,mBAAO,SADF;AAEL;AACAuB,sBAAU;AAHL;AADJ,SAfqB;AAsB5BC,kBAAU;AACN5B,iBAAO;AACLI,mBAAO,SADF;AAELyB,2BAAe;AAFV;AADD,SAtBkB;AA4B5BC,eAAO;AACHC,yBAAe,SADZ;AAEHC,kBAAQ;AACNhC,mBAAO;AACHI,qBAAO;AADJ;AADD,WAFL;AAOH6B,qBAAW,SAPR;AAQHC,8BAAoB,SARjB;AASHC,qBAAW,SATR;AAUHT,iBAAO;AACL1B,mBAAO;AACHI,qBAAO;;AADJ;AADF;AAVJ,SA5BqB;AA6C5BgC,eAAO;AACHL,yBAAe,SADZ;AAEHC,kBAAQ;AACNhC,mBAAO;AACHI,qBAAO;AADJ;AADD,WAFL;AAOH6B,qBAAW,SAPR;AAQHC,8BAAoB,SARjB;AASHC,qBAAW,SATR;AAUHE,qBAAW,CAVR;AAWHX,iBAAO;AACL1B,mBAAO;AACHI,qBAAO;AADJ;AADF;AAXJ,SA7CqB;AA8D5BkC,iBAAS;AACL7B,2BAAiB,qBADZ;AAELT,iBAAO;AACLI,mBAAO;AADF;AAFF,SA9DmB;AAoE5BmC,qBAAa;AACTC,kBAAQ;AACNC,wBAAY;AACRrC,qBAAO;AADC,aADN;AAINsC,oBAAQ;AACJT,yBAAW;AADP;AAJF,WADC;AASTU,mBAAS;AACPC,uBAAW;AADJ,WATA;AAYTC,uBAAa;AACXZ,uBAAW;AADA,WAZJ;AAeTa,oBAAU;AACR1C,mBAAO;AADC;AAfD,SApEe;AAuF5B2C,gBAAQ;AACJC,qBAAW;AACT5C,mBAAO;AADE,WADP;AAIJ6C,0BAAgB;AACd7C,mBAAO;AADO,WAJZ;AAOJ8C,2BAAiB;AACf9C,mBAAO;AADQ;AAPb,SAvFoB;AAkG5B+C,iBAAS;AACLnD,iBAAO;AACLI,mBAAO;AADF;AADF,SAlGmB;AAuG5B4B,gBAAQ;AACJhC,iBAAO;AACLI,mBAAO;AADF;AADH,SAvGoB;;AA6G5BgD,mBAAW;AACPC,gCAAsB;AACpBjD,mBAAO;AADa,WADf;AAIPkD,gCAAsB;AACpBlD,mBAAO;AADa;AAJf,SA7GiB;;AAsH5BmD,oBAAY;AACRC,yBAAe;AACbC,0BAAc,SADD;AAEbC,mBAAO;AACHC,oBAAM;AADH;AAFM;AADP,SAtHgB;;AA+H5B;AACAC,uBAAe;AACXC,uBAAa;AACXF,kBAAM,SADK;AAEXG,oBAAQ,SAFG;AAGX9D,mBAAO;AACHI,qBAAO;AADJ,aAHI;AAMX2D,oBAAQ;AACJC,qBAAO;AACLL,sBAAM,SADD;AAELG,wBAAQ,SAFH;AAGL9D,uBAAO;AACHI,yBAAO;AADJ;AAHF,eADH;AAQJ6D,sBAAQ;AACNN,sBAAM,SADA;AAENG,wBAAQ,SAFF;AAGN9D,uBAAO;AACHI,yBAAO;AADJ;AAHD;AARJ;AANG,WADF;AAwBX8D,+BAAqB,SAxBV;AAyBXC,sBAAY;AACV1D,6BAAiB,MADP;AAEVL,mBAAO;AAFG,WAzBD;AA6BXgE,sBAAY;AACVhE,mBAAO;AADG;AA7BD,SAhIa;;AAkK5BiE,mBAAW;AACPC,mBAAS;AACP7D,6BAAiB,MADV;AAEP8D,yBAAa;AAFN,WADF;AAKPC,wBAAc,MALP;AAMPC,oBAAU,uBANH;AAOPjC,kBAAQ;AACNpC,mBAAO,SADD;AAEN6B,uBAAW;AAFL,WAPD;AAWPH,iBAAO;AACLC,2BAAe;AADV;AAXA,SAlKiB;;AAkL5B2C,mBAAW;AACPC,8BAAoB,SADb;AAEPC,0BAAgB,SAFT;AAGPC,4BAAkB,MAHX;AAIPC,iCAAuB,SAJhB;AAKPC,6BAAmB,SALZ;AAMPC,sBAAY,MANL;AAOPC,gCAAsB,SAPf;AAQPC,4BAAkB;AARX,SAlLiB;;AA6L5B;AACAC,+BAAuB,oBA9LK;AA+L5BC,qBAAa,SA/Le;AAgM5BC,yBAAiB,SAhMW;AAiM5BC,mBAAW,SAjMiB;AAkM5BC,2BAAmB,SAlMS;AAmM5BC,mBAAW;AAnMiB,O;;gCAoT5BjI,c;;oCAAgB2C,kB;;8BAAoBQ,Y;;uCAAcK,qB","file":"utils.js","sourcesContent":["const HIGHCHARTS_THEME_DARK = {\n  colors: ['#2b908f', '#90ee7e', '#f45b5b', '#7798BF', '#aaeeee', '#ff0066', '#eeaaee', '#55BF3B', '#DF5353', '#7798BF', '#aaeeee'],\n  chart: {\n      backgroundColor: {\n        linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },\n        stops: [\n            [0, '#2a2a2b'],\n            [1, '#3e3e40']\n        ]\n      },\n      style: {\n        fontFamily: '\\'Unica One\\', sans-serif'\n      },\n      plotBorderColor: '#606063'\n  },\n  title: {\n      style: {\n        color: '#E0E0E3',\n        // textTransform: 'uppercase',\n        fontSize: '20px'\n      }\n  },\n  subtitle: {\n      style: {\n        color: '#E0E0E3',\n        textTransform: 'uppercase'\n      }\n  },\n  xAxis: {\n      gridLineColor: '#707073',\n      labels: {\n        style: {\n            color: '#E0E0E3'\n        }\n      },\n      lineColor: '#707073',\n      minorGridLineColor: '#505053',\n      tickColor: '#707073',\n      title: {\n        style: {\n            color: '#A0A0A3'\n\n        }\n      }\n  },\n  yAxis: {\n      gridLineColor: '#707073',\n      labels: {\n        style: {\n            color: '#E0E0E3'\n        }\n      },\n      lineColor: '#707073',\n      minorGridLineColor: '#505053',\n      tickColor: '#707073',\n      tickWidth: 1,\n      title: {\n        style: {\n            color: '#A0A0A3'\n        }\n      }\n  },\n  tooltip: {\n      backgroundColor: 'rgba(0, 0, 0, 0.85)',\n      style: {\n        color: '#F0F0F0'\n      }\n  },\n  plotOptions: {\n      series: {\n        dataLabels: {\n            color: '#B0B0B3'\n        },\n        marker: {\n            lineColor: '#333'\n        }\n      },\n      boxplot: {\n        fillColor: '#505053'\n      },\n      candlestick: {\n        lineColor: 'white'\n      },\n      errorbar: {\n        color: 'white'\n      }\n  },\n  legend: {\n      itemStyle: {\n        color: '#E0E0E3'\n      },\n      itemHoverStyle: {\n        color: '#FFF'\n      },\n      itemHiddenStyle: {\n        color: '#606063'\n      }\n  },\n  credits: {\n      style: {\n        color: '#666'\n      }\n  },\n  labels: {\n      style: {\n        color: '#707073'\n      }\n  },\n\n  drilldown: {\n      activeAxisLabelStyle: {\n        color: '#F0F0F3'\n      },\n      activeDataLabelStyle: {\n        color: '#F0F0F3'\n      }\n  },\n\n  navigation: {\n      buttonOptions: {\n        symbolStroke: '#DDDDDD',\n        theme: {\n            fill: '#505053'\n        }\n      }\n  },\n\n  // scroll charts\n  rangeSelector: {\n      buttonTheme: {\n        fill: '#505053',\n        stroke: '#000000',\n        style: {\n            color: '#CCC'\n        },\n        states: {\n            hover: {\n              fill: '#707073',\n              stroke: '#000000',\n              style: {\n                  color: 'white'\n              }\n            },\n            select: {\n              fill: '#000003',\n              stroke: '#000000',\n              style: {\n                  color: 'white'\n              }\n            }\n        }\n      },\n      inputBoxBorderColor: '#505053',\n      inputStyle: {\n        backgroundColor: '#333',\n        color: 'silver'\n      },\n      labelStyle: {\n        color: 'silver'\n      }\n  },\n\n  navigator: {\n      handles: {\n        backgroundColor: '#666',\n        borderColor: '#AAA'\n      },\n      outlineColor: '#CCC',\n      maskFill: 'rgba(255,255,255,0.1)',\n      series: {\n        color: '#7798BF',\n        lineColor: '#A6C7ED'\n      },\n      xAxis: {\n        gridLineColor: '#505053'\n      }\n  },\n\n  scrollbar: {\n      barBackgroundColor: '#808083',\n      barBorderColor: '#808083',\n      buttonArrowColor: '#CCC',\n      buttonBackgroundColor: '#606063',\n      buttonBorderColor: '#606063',\n      rifleColor: '#FFF',\n      trackBackgroundColor: '#404043',\n      trackBorderColor: '#404043'\n  },\n\n  // special colors for some of the\n  legendBackgroundColor: 'rgba(0, 0, 0, 0.5)',\n  background2: '#505053',\n  dataLabelsColor: '#B0B0B3',\n  textColor: '#C0C0C0',\n  contrastTextColor: '#F0F0F3',\n  maskColor: 'rgba(255,255,255,0.3)'\n};\n\n\nfunction showPollutants(providedPollutants, allPollutants, id, aqi) {\n\n  const measuresTable = document.getElementById('measures-table');\n\n  while (measuresTable.rows[0]) measuresTable.deleteRow(0);\n\n  // Remove air paramters from dropdown\n  var el = document.getElementById('airParametersDropdown');\n  while ( el.firstChild ) {\n    el.removeChild( el.firstChild )\n  }\n\n  // ---\n\n  // Add default pollutant option to dropdown\n  const defaultPollutantOption = document.createElement('option');\n  const html = '<option value=\"0\" selected=\"selected\">Air Parameter</option>';\n\n  defaultPollutantOption.innerHTML = html;\n  document.getElementById('airParametersDropdown').appendChild(defaultPollutantOption);\n\n  // -----\n\n\n  const pollutantsToShow = {};\n  for (const key in allPollutants) {\n    \n    allPollutants[key].forEach((_value) => {\n      if (_value.id === id) {\n        if (_value.value) {\n          if (!(pollutantsToShow[key])){\n            pollutantsToShow[key] = 0;\n          }\n          pollutantsToShow[key] = _value.value;\n        }\n      }\n    });\n  }\n\n  pollutantsToShow['aqi'] = aqi;\n\n  for (const pollutant in pollutantsToShow){\n    const row = measuresTable.insertRow(0);\n    row.className = 'measure';\n\n    const innerCell0 = providedPollutants[pollutant].name;\n    const innerCell1 = pollutantsToShow[pollutant] + ' ' + providedPollutants[pollutant].unit;\n\n    const cell0 = row.insertCell(0);\n    const cell1 = row.insertCell(1);\n\n\n    cell0.innerHTML = innerCell0;\n    cell1.innerHTML = innerCell1;\n    cell0.className = 'cell';\n    cell1.className = 'cell';\n\n    // Add Pollutants to Chart Dropdown\n    const newPollutant = document.createElement('option');\n\n    newPollutant.id = 'pollutantOption';\n    newPollutant.value = pollutant.toUpperCase();\n\n    newPollutant.innerHTML = providedPollutants[pollutant].name;\n\n    document.getElementById('airParametersDropdown').appendChild(newPollutant);\n\n    // ----\n  }\n\n  const mapDivHeight = document.getElementsByClassName('mapcontainer')[0].offsetHeight;\n  const mapDivWidth = document.getElementsByClassName('mapcontainer')[0].offsetWidth;\n\n  // Only show the map secundary data (tables) when the map div is not too small\n  if (mapDivHeight >= 405 && mapDivWidth >= 860) {\n    document.getElementById('environmentTable').style.display = 'block';\n    document.getElementById('measuresTable').style.display = 'block';\n  }\n}\n\nfunction showHealthConcerns(providedPollutants, risk, color, meaning) {\n  const healthConcernsWrapper = document.getElementById('healthConcernsWrapper');\n  const healthConcerns = document.getElementById('healthConcerns');\n  const healthRisk = document.getElementById('healthRisk');\n\n  const mapDivHeight = document.getElementsByClassName('mapcontainer')[0].offsetHeight;\n  const mapDivWidth = document.getElementsByClassName('mapcontainer')[0].offsetWidth;\n\n  // Only show the map secundary data (tables) when the map div is not too small\n  if (mapDivHeight >= 405 && mapDivWidth >= 860) {\n    healthConcernsWrapper.style.display = 'block';\n    healthConcerns.style.backgroundColor = color;\n    healthRisk.innerHTML = risk;\n  }\n}\n\n\nfunction calculateAQI(AQI, aqi) {\n  let aqiIndex;\n  AQI.range.forEach((value, index) => {\n    if (aqi >= value) {\n      aqiIndex = index;\n    }\n  });\n  return aqiIndex;\n}\n\n\nexport {\n  showPollutants, showHealthConcerns, calculateAQI, HIGHCHARTS_THEME_DARK\n}"]}